#Importe Pacotes
library(shinydashboard)
#Importe Pacotes
library(shinydashboard)
#library(shiny)
library(plotly)
#library(shinythemes)
library("rjson")
library(dplyr)
# Carrega arquivos
source('processing_data.R')
source("ui.R")
source("server.R")
# Executa aplicação
shinyApp(ui, server)
runApp()
pvv_br
pvap_br_1
pvap_br_1
as.vector(pvap_br_1)
# Carrega arquivos
source('processing_data.R')
source("ui.R")
source("server.R")
# Executa aplicação
shinyApp(ui, server)
runApp()
for(uf in reg){
print(1)
}
library(dplyr)
library(ggplot2)
median_region <- function(df,reg){
for(uf in reg){
print(select(df, cdabr, pvv) %>% filter(cdabr == uf))
}
}
median_region(df_geral, norte)
norte <- c('AC', 'AP', 'AM', 'PA', 'RO', 'RR', 'TO')
median_region(df_geral, norte)
# Carrega dados estados
estados <- read.table('estados.txt', sep = ';', header = T)
# Configura link de acesso ao TSE
set_link1 <- 'https://resultados.tse.jus.br/oficial/ele2022/544/dados-simplificados/'
set_link2 <-'-c0001-e000544-r.json'
for(uf in estados['Sigla']) {
links <- paste(set_link1, uf, '/', uf, set_link2, sep = '')
}
# Faz o Get dos arquivos JSON e configura dataframes
df_geral <- data.frame()
df_primeiro <- data.frame()
df_segundo <- data.frame()
for(link in links) {
data_UF <- httr::GET(link) |> httr::content()
df_geral <- rbind(df_geral, as.data.frame(data_UF)[1,1:64])
for(i in 1:11){
if(data_UF$cand[[i]]$seq =='1'){
df_primeiro <- rbind(df_primeiro, as.data.frame(data_UF$cand[[i]]))
}
if(data_UF$cand[[i]]$seq =='2'){
df_segundo <- rbind(df_segundo, as.data.frame(data_UF$cand[[i]]))
}
}
}
# % de apuraçao Federação + UF
pvv_br <- (select(df_geral, pvv) %>% filter(df_geral$cdabr == 'br'))[1,1]
pvv_br
median_region(df_geral, norte)
pvv <- 0
for(uf in reg){
var = (select(df, pvv) %>% filter(cdabr == uf))[1,1]
print(var)
}
median_region <- function(df,reg){
pvv <- 0
for(uf in reg){
var = (select(df, pvv) %>% filter(cdabr == uf))[1,1]
print(var)
}
}
median_region(df_geral, norte)
median_region(df_geral, norte)
var = (select(df, pvv) %>% filter(cdabr == uf))[1]
median_region <- function(df,reg){
pvv <- 0
for(uf in reg){
var = (select(df, pvv) %>% filter(cdabr == uf))[1]
print(var)
}
}
median_region(df_geral, norte)
median_region <- function(df,reg){
pvv <- 0
for(uf in reg){
var = (select(df, pvv) %>% filter(cdabr == uf))
print(var)
}
}
median_region(df_geral, norte)
median_region <- function(df,reg){
pvv <- 0
for(uf in reg){
var = (select(df, cdabr, pvv) %>% filter(cdabr == uf))
print(var)
}
}
median_region(df_geral, norte)
median_region <- function(df,reg){
pvv <- 0
for(uf in reg){
var = (select(df, cdabr, pvv) %>% filter(cdabr == uf))[1,1]
print(var)
}
}
median_region(df_geral, norte)
median_region <- function(df,reg){
pvv <- 0
for(uf in reg){
var = (select(df, cdabr, pvv) %>% filter(cdabr == uf))[1,2]
print(var)
}
}
median_region(df_geral, norte)
median_region <- function(df,reg){
pvv <- 0
for(uf in reg){
var = as.numeric((select(df, cdabr, pvv) %>% filter(cdabr == uf))[1,2])
print(var)
}
}
median_region(df_geral, norte)
median_region <- function(df,reg){
for(uf in reg){
var = ((select(df, cdabr, pvv) %>% filter(cdabr == uf))[1,2]
print(var)
median_region <- function(df,reg){
pvv <- 0
for(uf in reg){
var = (select(df, cdabr, pvv) %>% filter(cdabr == uf))[1,2]
print(var)
}
}
median_region(df_geral, norte)
median_region <- function(df,reg){
pvv <- 0
for(uf in reg){
var = (select(df, cdabr, pvv) %>% filter(cdabr == uf))[1,2]
var <- gsub(',','.', var)
print(var)
}
}
median_region(df_geral, norte)
median_region <- function(df,reg){
pvv <- 0
for(uf in reg){
var = (select(df, cdabr, pvv) %>% filter(cdabr == uf))[1,2]
var <- gsub(',','.', var)
print(as.numeric(var))
}
}
median_region(df_geral, norte)
median_region <- function(df,reg){
pvv <- 0
for(uf in reg){
var = (select(df, cdabr, pvv) %>% filter(cdabr == uf))[1,2]
var <- gsub(',','.', var)
print(as.numeric(var))
pvv_sum = pvv + var
}
median_pvv = (pvv_sum)/length(reg)
return(median_pvv)
}
median_region(df_geral, norte)
median_region <- function(df,reg){
pvv_sum <- 0
for(uf in reg){
var = (select(df, cdabr, pvv) %>% filter(cdabr == uf))[1,2]
var <- gsub(',','.', var)
print(as.numeric(var))
pvv_sum = pvv_sum + var
}
median_pvv = (pvv_sum)/length(reg)
return(median_pvv)
}
median_region(df_geral, norte)
median_region <- function(df,reg){
pvv_sum <- 0
for(uf in reg){
var = (select(df, cdabr, pvv) %>% filter(cdabr == uf))[1,2]
var <- gsub(',','.', var)
print(as.numeric(var))
pvv_sum = pvv_sum + as.numeric(var)
}
median_pvv = (pvv_sum)/length(reg)
return(median_pvv)
}
median_region(df_geral, norte)
x = median_region(df_geral, norte)
x
median_region_pvv <- function(df,reg){
pvv_sum <- 0
for(uf in reg){
var = (select(df, cdabr, pvv) %>% filter(cdabr == uf))[1,2]
var <- gsub(',','.', var)
print(as.numeric(var))
pvv_sum = pvv_sum + as.numeric(var)
}
median_pvv = (pvv_sum)/length(reg)
return(median_pvv)
}
median_region_pvv <- function(df,reg){
pvv_sum <- 0
for(uf in reg){
var <- (select(df, cdabr, pvv) %>% filter(cdabr == uf))[1,2]
var <- gsub(',','.', var)
pvv_sum = pvv_sum + as.numeric(var)
}return(pvv_sum/length(reg))
median_region_pvv <- function(df,reg){
pvv_sum <- 0
for(uf in reg){
var <- (select(df, cdabr, pvv) %>% filter(cdabr == uf))[1,2]
var <- gsub(',','.', var)
pvv_sum = pvv_sum + as.numeric(var)
}
return(pvv_sum/length(reg))
}
median_pvv_region(df_geral, norte)
median_region_pvv(df_geral, norte)
norte_pvv <- data.frame(
"UF" = norte,
'pvv' = median_region_pvv(df_geral, norte)
)
norte_pvv
regional_pvv <- data.frame(
regioes <- c('Norte', 'Nordeste', 'Centro Oeste', 'Sudeste', 'Sul')
)
regional_pvv
View(regional_pvv)
colnames(regional_pvv) <- c('Regiões')
View(regional_pvv)
regioes <- c(norte, nordeste, centro_oeste, sudeste, sul)
nordeste <- c('AL', 'BA', 'CE', 'MA', 'PB', 'PI', 'PE', 'RN', 'SE')
centro_oeste <- c('DF', 'GO', 'MT', 'MS')
sudeste <- c('ES', 'MG', 'RJ', 'SP')
sul <- c('PR', 'RS', 'SC')
regioes <- c(norte, nordeste, centro_oeste, sudeste, sul)
regional_pvv <- data.frame()
mapply(median_region_pvv, df_geral, regioes)
median_region_pvv <- function(reg){
pvv_sum <- 0
for(uf in reg){
var <- (select(df_geral, cdabr, pvv) %>% filter(cdabr == uf))[1,2]
var <- gsub(',','.', var)
pvv_sum = pvv_sum + as.numeric(var)
}
return(pvv_sum/length(reg))
}
mapply(median_region_pvv, regioes)
regional_pvv <- data.frame()
for(i in regioes){
print(median_region_pvv(i))
}
print(i)
for(i in regioes){
print(i)
}
for(i in regioes){
print(regioes[i])
}
regional_pvv <- data.frame(
"Norte" = median_region_pvv(norte),
"Nordeste" = median_region_pvv(nordeste),
"Centro Oeste" = median_region_pvv(centro_oeste),
"Sudeste" = median_region_pvv(sudeste),
"Sul" = median_region_pvv(sul),
)
regional_pvv <- data.frame(
"Regiões "<- c('Norte', 'Nordeste', 'Centro Oeste', 'Sudeste', 'Sul')
)
regional_pvv <- data.frame(
"Regiões "<- c('Norte', 'Nordeste', 'Centro Oeste', 'Sudeste', 'Sul')
"mean_pvv" <- c(
regional_pvv <- data.frame(
"Regiões " = c('Norte', 'Nordeste', 'Centro Oeste', 'Sudeste', 'Sul')
"mean_pvv" = c(
regional_pvv <- data.frame(
"Regiões " = c('Norte', 'Nordeste', 'Centro Oeste', 'Sudeste', 'Sul')
mean_pvv = c(
regional_pvv <- data.frame(
"Regiões " = c('Norte', 'Nordeste', 'Centro Oeste', 'Sudeste', 'Sul')
mean_pvv = c(
mean_pvv <- c(
median_region_pvv(norte),
median_region_pvv(nordeste),
median_region_pvv(centro_oeste),
median_region_pvv(sudeste),
median_region_pvv(sul))
mean_pvv
regional_pvv <- data.frame(
"Regiões " = c('Norte', 'Nordeste', 'Centro Oeste', 'Sudeste', 'Sul')
)
colnames(regional_pvv) <- c('Regiões')
View(regional_pvv)
regional_pvv <- data.frame(
"Regiões " = c('Norte', 'Nordeste', 'Centro Oeste', 'Sudeste', 'Sul'),
"median_pvv" = mean_pvv
)
colnames(regional_pvv) <- c('Regiões')
View(regional_pvv)
colnames(regional_pvv) <- c('Regiões', 'median_pvv')
View(regional_pvv)
ggplot(regional_pvv, aes(x='Regiões', y='median_pvv', fill = 'Regiões')) +
geom_bar(stat = 'identity')
ggplot(regional_pvv, aes(x='Regiões', y='median_pvv', fill = 'Regiões')) +
geom_bar(stat = 'identity')
ggplot(regional_pvv, aes(x=regional_pvv$Regiões, y=regional_pvv$median_pvv, fill = 'Regiões')) +
geom_bar(stat = 'identity')
ggplot(regional_pvv, aes(x=regional_pvv$Regiões, y=regional_pvv$median_pvv, fill = 'Regiões')) +
geom_bar(stat = 'identity')+
coord_flip()
ggplot(regional_pvv, aes(x=regional_pvv$Regiões, y=regional_pvv$median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
coord_flip()+
xlab('% das apurações') +
ylab('Regiões da Federação')
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
xlab('% das apurações') +
ylab('Regiões da Federação')
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
xlab('% das apurações') +
ylab('Regiões da Federação')
coord_flip()+
# % voto por candidato pvap Federação
pvap_br_1 <- (select(df_primeiro, pvap))[1,1]
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
xlab('% das apurações') +
ylab('Regiões da Federação')
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
xlab('% das apurações') +
ylab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=median_pvv), vjust=1.6, color="white",
position = position_dodge(0.9), size=3.5)
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=median_pvv), vjust=1.6, color="white",
position = position_dodge(0.9), size=3.5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=median_pvv), vjust=1.6, color="black",
position = position_dodge(0.9), size=3.5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=1.6, color="black",
position = position_dodge(0.9), size=3.5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=1.6, color="black",
position = position_dodge(0.9), size=3.5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=1, color="black",
position = position_dodge(0.9), size=3.5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=1, color="black",
position = position_dodge(0.9), size=3.5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=0.8, color="black",
position = position_dodge(0.9), size=3.5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=0.5, color="black",
position = position_dodge(0.9), size=3.5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=0.5, color="black",
position = position_dodge(0.5), size=3.5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=0.5, color="black",
position = position_dodge(1.5), size=3.5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=0.5, color="black",
position = position_dodge(1), size=3.5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=0.5, color="black",
position = position_dodge(0.1), size=3.5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=0.5, color="black",
position = position_dodge(0.9), size=3.5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=0.5, color="black",
position = position_dodge(0.9), size=5)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=0.5, color="black",
position = position_dodge(0.9), size=6)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=0.5, color="black",
position = position_dodge(0.9), size=6)+
ylab('% das apurações', size=2) +
xlab('Regiões da Federação')+
coord_flip()
plot_pvv <- ggplot(regional_pvv, aes(x=`Regiões`, y=median_pvv, fill = `Regiões`)) +
geom_bar(stat = 'identity')+
geom_text(aes(label=paste0(median_pvv,'%')), vjust=0.5, color="black",
position = position_dodge(0.9), size=6)+
ylab('% das apurações') +
xlab('Regiões da Federação')+
coord_flip()
plot_pvv
plot_pvv
#Importe Pacotes
library(shinydashboard)
#Importe Pacotes
library(shinydashboard)
library(shiny)
library(plotly)
library(shinythemes)
library(dplyr)
library(ggplot2)
# Carrega arquivos
source('processing_data.R')
runApp()
#Importe Pacotes
library(shinydashboard)
library(shiny)
library(plotly)
library(shinythemes)
library(dplyr)
library(ggplot2)
# Carrega arquivos
source('processing_data.R')
source("ui.R")
source("server.R")
# Executa aplicação
shinyApp(ui, server)
runApp()
runApp()
runApp()
library(shiny); runApp('~/Desktop/Estudos/formacao_cientista_dados_academy/Big_Data_Analytics/Cap_10_Estatistica_Parte3/EstudoCaso3.R')
